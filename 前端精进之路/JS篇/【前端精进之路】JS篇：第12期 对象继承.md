[TOC]



## å†™åœ¨å‰é¢

è¿™é‡Œæ˜¯å°é£ä¾ PanğŸ¥³ï¼Œç«‹å¿—æˆä¸ºä¸€åä¼˜ç§€çš„å‰ç«¯ç¨‹åºåª›ï¼ï¼ï¼

æœ¬ç¯‡æ–‡ç« æ”¶å½•äºæˆ‘çš„ä¸“æ ï¼š[å‰ç«¯ç²¾è¿›ä¹‹è·¯](https://blog.csdn.net/weixin_52834435/category_11886356.html?spm=1001.2014.3001.5482)

åŒæ—¶æ”¶å½•äºæˆ‘çš„[github](https://github.com/mengqiuleo)å‰ç«¯ç¬”è®°ä»“åº“ä¸­ï¼ŒæŒç»­æ›´æ–°ä¸­ï¼Œæ¬¢è¿star~

ğŸ‘‰[https://github.com/mengqiuleo/myNote](https://github.com/mengqiuleo/myNote)

<hr>

## åŸå‹é“¾ç»§æ‰¿

```js
function Parent (age) {
  this.name = 'Parent'
  this.sex = 'boy'
  this.age = age
}
Parent.prototype.getName = function () {
  console.log(this.name)
}
function Child () {
  this.name = 'child'
}
Child.prototype = new Parent() // å®ç°åŸå‹é“¾ç»§æ‰¿çš„ç²¾é«“

Child.prototype.constructor = Child //å°†å­ç±»çš„æ„é€ å‡½æ•°é‡æ–°æŒ‡å‘å­ç±»ï¼Œå¦åˆ™æ„é€ å‡½æ•°ä¼šä¸¢å¤±

var child1 = new Child()
child1.getName()
console.log(child1)
```

### å…³é”®

**å­ç±»å‹çš„åŸå‹ä¸ºçˆ¶ç±»å‹çš„ä¸€ä¸ªå®ä¾‹å¯¹è±¡**



### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹ï¼š**

- ç»§æ‰¿äº†çˆ¶ç±»çš„æ¨¡æ¿ï¼Œåˆç»§æ‰¿äº†çˆ¶ç±»çš„åŸå‹å¯¹è±¡

**ç¼ºç‚¹ï¼š**

- å¦‚æœè¦ç»™å­ç±»çš„åŸå‹ä¸Šæ–°å¢å±æ€§å’Œæ–¹æ³•ï¼Œå°±å¿…é¡»æ”¾åœ¨`Child.prototype = new Parent()`è¿™æ ·çš„è¯­å¥åé¢

- æ— æ³•å®ç°å¤šç»§æ‰¿(å› ä¸ºå·²ç»æŒ‡å®šäº†åŸå‹å¯¹è±¡äº†)

- æ¥è‡ªåŸå‹å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½è¢«å…±äº«äº†ï¼Œè¿™æ ·å¦‚æœä¸å°å¿ƒä¿®æ”¹äº†åŸå‹å¯¹è±¡ä¸­çš„å¼•ç”¨ç±»å‹å±æ€§ï¼Œé‚£ä¹ˆæ‰€æœ‰å­ç±»åˆ›å»ºçš„å®ä¾‹å¯¹è±¡éƒ½ä¼šå—åˆ°å½±å“ï¼Œæ¯”å¦‚ä¸‹é¢çš„ä¾‹å­ï¼š

  ```js
  function Parent () {
      this.names = ['kevin', 'daisy'];
  }
  
  function Child () {
  
  }
  
  Child.prototype = new Parent();
  
  var child1 = new Child();
  
  child1.names.push('xiaofeixia');
  
  console.log(child1.names); // ["kevin", "daisy", "xiaofeixia"]
  
  var child2 = new Child();
  
  console.log(child2.names); // ["kevin", "daisy", "xiaofeixia"]
  ```

  

- åˆ›å»ºå­ç±»æ—¶ï¼Œæ— æ³•å‘çˆ¶ç±»æ„é€ å‡½æ•°ä¼ å‚æ•°(æ¯”å¦‚ä¸Šé¢çš„å¦‚æœæƒ³ç”¨çˆ¶ç±»çš„ageï¼Œä½†æˆ‘ä»¬æ— æ³•ä¼ å‚)

- æŸäº›å±æ€§å…¶å®æ˜¯ä¿å­˜åœ¨çˆ¶ç±»å‹çš„å®ä¾‹å¯¹è±¡ä¸Šçš„ï¼›æˆ‘ä»¬é€šè¿‡ç›´æ¥æ‰“å°å¯¹è±¡æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªå±æ€§çš„



## æ„é€ ç»§æ‰¿ï¼ˆå€Ÿç”¨æ„é€ å‡½æ•°ç»§æ‰¿ï¼‰

```js
function Parent (age) {
    this.names = ['a', 'f'];
    this.age = age;
}

function Child (age) {
    Parent.call(this,age);
}

var child1 = new Child(18);

child1.names.push('s');

console.log(child1.age);//18
console.log(child1.names); // ["a", "f", "s"]

var child2 = new Child();

console.log(child2.names); // ["a", "f"]
```



### å…³é”®

åœ¨å­ç±»æ„é€ å‡½æ•°å†…éƒ¨ä½¿ç”¨`callæˆ–apply`æ¥è°ƒç”¨çˆ¶ç±»æ„é€ å‡½æ•°



### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹ï¼š**

- è§£å†³äº†åŸå‹é“¾ç»§æ‰¿ä¸­å­ç±»å®ä¾‹å…±äº«çˆ¶ç±»å¼•ç”¨å¯¹è±¡çš„é—®é¢˜ï¼Œå®ç°å¤šç»§æ‰¿ï¼Œåˆ›å»ºå­ç±»å®ä¾‹æ—¶ï¼Œå¯ä»¥å‘çˆ¶ç±»ä¼ é€’å‚æ•°

**ç¼ºç‚¹ï¼š**

- ç›¸æ¯”åŸå‹é“¾ç»§æ‰¿æ–¹å¼ï¼Œçˆ¶ç±»çš„å¼•ç”¨å±æ€§ä¸ä¼šè¢«å…±äº«ï¼Œä¼˜åŒ–äº†ç¬¬ä¸€ç§ç»§æ‰¿æ–¹å¼çš„å¼Šç«¯ï¼Œä½†æ˜¯åªèƒ½ç»§æ‰¿çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¸èƒ½ç»§æ‰¿åŸå‹å±æ€§æˆ–è€…æ–¹æ³•
- æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°ä¸­å®šä¹‰ï¼Œæ¯æ¬¡åˆ›å»ºå®ä¾‹éƒ½ä¼šåˆ›å»ºä¸€éæ–¹æ³•(**å³æ— æ³•å®ç°å‡½æ•°å¤ç”¨**)



## ç»„åˆç»§æ‰¿

æ—¢ç„¶**åŸå‹é“¾ç»§æ‰¿**å’Œ**æ„é€ ç»§æ‰¿**éƒ½æœ‰è¿™ä¹ˆå¤šçš„ç¼ºç‚¹ï¼Œé‚£æˆ‘ä»¬ä¸ºä½•ä¸**é˜´é˜³ç»“åˆ**ï¼ŒæŠŠå®ƒä»¬**ç»„åˆ**åœ¨ä¸€èµ·å‘¢ï¼Ÿ

```js
function Parent (name) {
    this.name = name;
    this.colors = ['red', 'blue', 'green'];
}

Parent.prototype.getName = function () {
    console.log(this.name)
}

function Child (name, age) {

    Parent.call(this, name);
    
    this.age = age;

}

Child.prototype = new Parent();
Child.prototype.constructor = Child;

// æµ‹éªŒä»£ç 

var child1 = new Child('kevin', '18');

child1.colors.push('black');

console.log(child1.name); // kevin
console.log(child1.age); // 18
console.log(child1.colors); // ["red", "blue", "green", "black"]

var child2 = new Child('daisy', '20');

console.log(child2.name); // daisy
console.log(child2.age); // 20
console.log(child2.colors); // ["red", "blue", "green"]
```



### å…³é”®ï¼š

- ä½¿ç”¨**åŸå‹é“¾ç»§æ‰¿**æ¥ä¿è¯å­ç±»èƒ½ç»§æ‰¿åˆ°çˆ¶ç±»åŸå‹ä¸­çš„å±æ€§å’Œæ–¹æ³•
- ä½¿ç”¨**æ„é€ ç»§æ‰¿**æ¥ä¿è¯å­ç±»èƒ½ç»§æ‰¿åˆ°çˆ¶ç±»çš„å®ä¾‹å±æ€§å’Œæ–¹æ³•

ä¼ªä»£ç 

```js
// åŸå‹é“¾ç»§æ‰¿
Child.prototype = new Parent()
// æ„é€ ç»§æ‰¿
function Child () {
  Parent.call(this, ...arguments)
}
```



### ä¼˜ç¼ºç‚¹

**ä¼˜ç‚¹ï¼š**

- å¯ä»¥ç»§æ‰¿çˆ¶ç±»å®ä¾‹å±æ€§å’Œæ–¹æ³•ï¼Œä¹Ÿèƒ½å¤Ÿç»§æ‰¿çˆ¶ç±»åŸå‹å±æ€§å’Œæ–¹æ³•
- å¼¥è¡¥äº†åŸå‹é“¾ç»§æ‰¿ä¸­å¼•ç”¨å±æ€§å…±äº«çš„é—®é¢˜
- å¯ä¼ å‚ï¼Œå¯å¤ç”¨

**ç¼ºç‚¹ï¼š**

- ä½¿ç”¨ç»„åˆç»§æ‰¿æ—¶ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡
- å¹¶ä¸”ç”Ÿæˆäº†ä¸¤ä¸ªå®ä¾‹ï¼Œå­ç±»å®ä¾‹ä¸­çš„å±æ€§å’Œæ–¹æ³•ä¼šè¦†ç›–å­ç±»åŸå‹(çˆ¶ç±»å®ä¾‹)ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œæ‰€ä»¥å¢åŠ äº†ä¸å¿…è¦çš„å†…å­˜ã€‚



è§£é‡Šä¸Šé¢çš„**ä½¿ç”¨ç»„åˆç»§æ‰¿æ—¶ï¼Œçˆ¶ç±»æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡**ï¼š

- ç¬¬ä¸€æ¬¡æ˜¯**åŸå‹é“¾ç»§æ‰¿**çš„æ—¶å€™ï¼Œ`new Parent()`
- ç¬¬äºŒæ¬¡æ˜¯**æ„é€ ç»§æ‰¿**çš„æ—¶å€™ï¼Œ`Parent.call()`è°ƒç”¨çš„

å¦å¤–ï¼Œæˆ‘ä»¬æƒ³è¦ç»§æ‰¿**çˆ¶ç±»æ„é€ å‡½æ•°**é‡Œçš„å±æ€§å’Œæ–¹æ³•é‡‡ç”¨çš„æ˜¯**æ„é€ ç»§æ‰¿**ï¼Œä¹Ÿå°±æ˜¯å¤åˆ¶ä¸€ä»½åˆ°å­ç±»å®ä¾‹å¯¹è±¡ä¸­ï¼Œè€Œæ­¤æ—¶ç”±äºè°ƒç”¨äº†`new Parent()`ï¼Œæ‰€ä»¥`Child.prototype`ä¸­ä¹Ÿä¼šæœ‰ä¸€ä»½ä¸€æ¨¡ä¸€æ ·çš„å±æ€§ï¼Œå¯æ˜¯æˆ‘å­ç±»å®ä¾‹å¯¹è±¡è‡ªå·±å·²ç»æœ‰äº†ä¸€ä»½äº†å‘€ï¼Œæ‰€ä»¥æˆ‘æ€ä¹ˆä¹Ÿç”¨ä¸ä¸Š`Child.prototype`ä¸Šé¢çš„äº†ï¼Œé‚£ä½ è¿™å‡­ç©ºå¤šå‡ºæ¥çš„å±æ€§ä¸å°±å äº†å†…å­˜æµªè´¹äº†å—ï¼Ÿ

å½“ç„¶ï¼Œè¿™ä¸¤ä»½å±æ€§æˆ‘ä»¬æ— éœ€æ‹…å¿ƒè®¿é—®å‡ºç°é—®é¢˜ï¼Œå› ä¸ºæ ¹æ®åŸå‹é“¾çš„è®¿é—®è§„åˆ™ï¼Œè‡ªèº«æœ‰ï¼Œé»˜è®¤ä¸€å®šæ˜¯è®¿é—®å®ä¾‹æœ¬èº«è¿™ä¸€éƒ¨åˆ†çš„ã€‚



## å¯„ç”Ÿç»„åˆç»§æ‰¿

**ç»„åˆç»§æ‰¿**çš„ç¼ºç‚¹æ˜¯çˆ¶ç±»æ„é€ å‡½æ•°ä¼šè¢«è°ƒç”¨ä¸¤æ¬¡ï¼šä¸€æ¬¡ä½¿ç”¨`Parent.call()`æ¥è·å–çˆ¶ç±»èº«ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜æœ‰ä¸€æ¬¡æ˜¯ç”¨`new Parent()`æ¥ç»§æ‰¿çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯åœ¨ç»§æ‰¿çš„æ—¶å€™æˆ‘ä»¬åˆåœ¨å­ç±»åŸå‹`Child.prototype`ä¸Šæ‹¿åˆ°äº†çˆ¶ç±»å®ä¾‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ï¼Œä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦è¿™äº›ï¼Œæˆ‘ä»¬çœŸæ­£éœ€è¦çš„æ˜¯çˆ¶ç±»åŸå‹ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚

é‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦æœ‰ä¸€ç§æ–¹å¼ï¼Œä½¿å¾—å­ç±»çš„åŸå‹ç›´æ¥ç»§æ‰¿çˆ¶ç±»çš„åŸå‹ï¼Œä¸è¦é¢å¤–ç»§æ‰¿ä¸€äº›ä¸éœ€è¦çš„çˆ¶ç±»å®ä¾‹èº«ä¸Šçš„å±æ€§å’Œæ–¹æ³•ã€‚

ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ª**å¹²å‡€**çš„å®ä¾‹å¯¹è±¡ï¼Œæ¥ä½œä¸ºå­ç±»çš„åŸå‹ã€‚å¹¶ä¸”è¿™ä¸ª**å¹²å‡€**çš„å®ä¾‹å¯¹è±¡è¿˜å¾—èƒ½ç»§æ‰¿çˆ¶ç±»åŸå‹å¯¹è±¡é‡Œçš„å±æ€§ã€‚

`Object.create()`

```js
function Parent (name) {
  this.name = name
}
Parent.prototype.getName = function () {
  console.log(this.name)
}
function Child (name) {
  this.sex = 'boy'
  Parent.call(this, name)
}
// ä¸ç»„åˆç»§æ‰¿çš„åŒºåˆ«
Child.prototype = Object.create(Parent.prototype)

var child1 = new Child('child1')

console.log(child1)
child1.getName()
```



## åŸå‹å¼ç»§æ‰¿

è¯¥æ–¹æ³•çš„åŸç†æ˜¯åˆ›å»ºä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œæ„é€ å‡½æ•°çš„åŸå‹æŒ‡å‘å¯¹è±¡ï¼Œç„¶åè°ƒç”¨ new æ“ä½œç¬¦åˆ›å»ºå®ä¾‹ï¼Œå¹¶è¿”å›è¿™ä¸ªå®ä¾‹ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªæµ…æ‹·è´ã€‚

```js
function objcet (obj) {
    function F () {};
    F.prototype = obj;
    F.prototype.constructor = F;
    return new F();
}
```

åœ¨`ES5`ä¹‹åå¯ä»¥ç›´æ¥ä½¿ç”¨`Object.create()`æ–¹æ³•æ¥å®ç°.



**ä¸¤ä¸ªä¾‹å­ï¼š**

```js
function create (obj) {
  function F () {};
  F.prototype = obj;
  F.prototype.constructor = F;
  return new F();
}
var cat = {
  heart: 'â¤ï¸',
  colors: ['white', 'black']
}

var guaiguai = create(cat) 
var huaihuai = create(cat)

console.log(guaiguai)//F {}
console.log(huaihuai)//F {}

console.log(guaiguai.heart)//â¤ï¸
console.log(huaihuai.colors)//[ 'white', 'black' ]

// ES5ä¹‹å
let parent4 = {
    name: "parent4",
    friends: ["p1", "p2", "p3"],
    getName: function() {
        return this.name;
    }
};

let person4 = Object.create(parent4);//å€ŸåŠ©Object.createæ–¹æ³•å®ç°æ™®é€šå¯¹è±¡çš„ç»§æ‰¿
person4.name = "tom";
person4.friends.push("jerry");

let person5 = Object.create(parent4);
person5.friends.push("lucy");

console.log(person4.name); // tom
console.log(person4.name === person4.getName()); // true
console.log(person5.name); // parent4
console.log(person4.friends); // ["p1", "p2", "p3","jerry","lucy"]
console.log(person5.friends); // ["p1", "p2", "p3","jerry","lucy"]
```



## å¯„ç”Ÿå¼ç»§æ‰¿

**å¯„ç”Ÿå¼ç»§æ‰¿**å°±æ˜¯åœ¨**åŸå‹å¼ç»§æ‰¿**çš„åŸºç¡€ä¸Šå†å°è£…ä¸€å±‚ï¼Œæ¥å¢å¼ºå¯¹è±¡ï¼Œä¹‹åå°†è¿™ä¸ªå¯¹è±¡è¿”å›ã€‚

```js
function createAnother (original) {
    var clone = Object.create(original); // é€šè¿‡è°ƒç”¨ Object.create() å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡
    clone.fn = function () {}; // ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡
    return clone; // è¿”å›è¿™ä¸ªå¯¹è±¡
}
```

**ä¸€ä¸ªä¾‹å­**

```js
let parent5 = {
    name: "parent5",
    friends: ["p1", "p2", "p3"],
    getName: function() {
        return this.name;
    }
};

function clone(original) {
    let clone = Object.create(original);
    clone.getFriends = function() { // ä»¥æŸç§æ–¹å¼æ¥å¢å¼ºå¯¹è±¡
        return this.friends;
    };
    return clone;
}

let person5 = clone(parent5);

console.log(person5.getName()); // parent5
console.log(person5.getFriends()); // ["p1", "p2", "p3"]
```



## æ··å…¥æ–¹å¼ç»§æ‰¿å¤šä¸ªå¯¹è±¡

**æ··å…¥æ–¹å¼ç»§æ‰¿**å°±æ˜¯æ•™æˆ‘ä»¬å¦‚ä½•ä¸€ä¸ªå­ç±»ç»§æ‰¿å¤šä¸ªçˆ¶ç±»çš„ã€‚

éœ€è¦ç”¨åˆ°`ES6`ä¸­çš„æ–¹æ³•`Object.assign()`ã€‚

å®ƒçš„ä½œç”¨å°±æ˜¯å¯ä»¥æŠŠå¤šä¸ªå¯¹è±¡çš„å±æ€§å’Œæ–¹æ³•æ‹·è´åˆ°ç›®æ ‡å¯¹è±¡ä¸­ï¼Œè‹¥æ˜¯å­˜åœ¨åŒåå±æ€§çš„è¯ï¼Œåé¢çš„ä¼šè¦†ç›–å‰é¢ã€‚(è¿™ç§æ‹·è´æ˜¯ä¸€ç§æµ…æ‹·è´)

```js
function Child () {
    Parent.call(this)
    OtherParent.call(this)
}
Child.prototype = Object.create(Parent.prototype)
Object.assign(Child.prototype, OtherParent.prototype)
Child.prototype.constructor = Child
```



**å‚è€ƒæ–‡ç« **

[ğŸ’¦ã€ä½•ä¸ä¸‰è¿ã€‘åšå®Œè¿™48é“é¢˜å½»åº•å¼„æ‡‚JSç»§æ‰¿(1.7wå­—å«è¾›æ•´ç†-è¿”ç’å½’çœŸ)](https://juejin.cn/post/6844904098941108232#heading-59)